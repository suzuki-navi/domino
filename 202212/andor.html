<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>AND回路、OR回路、NOT回路 | セルオートマトンによるCPU作成</title>
<script src="../domino.js"></script>
<script src="../circuit.js"></script>
<link rel="stylesheet" href="../domino.css"></link>
<link rel="stylesheet" href="../demo.css"></link>
</head>
<body>
  <section>
    <p>最初はOR回路です。</p>
    <p>OR回路は複数の入力の中で1つでもOn状態であれば出力もOnになる回路です。すべての入力がOffの時に限り出力がOffになります。</p>
    <p>このセルオートマトンでは単に合流させればORになります。</p>
    <div id="cellular-automaton-01"></div>
    <script>
      window.addEventListener("load", (event) => {
        cellularAutomatonUI("cellular-automaton-01", 10, 5, 2, 2, ["reset", "stop", "step", "speed1", "speed2"], (circuit) => {
          circuit.sub({x:1, y:1}).line([4, 2]);
          circuit.sub({x:1, y:3}).line([8]);
          circuit.sub({x:1, y:1}).button();
          circuit.sub({x:1, y:3}).button();
        });
      });
    </script>
  </section>
  <section>
    <p>次はNOT回路です。OnとOffを反転させる回路です。</p>
    <p>このセルオートマトンでは赤いセルがそのままNOTになります。</p>
    <div id="cellular-automaton-02"></div>
    <script>
      window.addEventListener("load", (event) => {
        cellularAutomatonUI("cellular-automaton-02", 10, 3, 2, 2, ["reset", "stop", "step", "speed1", "speed2"], (circuit) => {
          circuit.sub({x:1, y:1}).line([8]);
          circuit.sub({x:1, y:1}).button();
          circuit.sub({x:5, y:1}).reverse();
          for (let i = 5; i < 10; i++) {
            circuit.sub({x:i, y:0}).value(true);
          }
        });
      });
    </script>
  </section>
  <section>
    <p>これらを組み合わせたNOR(OR+NOT)回路です。入力が1つでもOnであれば出力はOffになり、入力がすべてOffのときに限り出力はOnになります。</p>
    <div id="cellular-automaton-03"></div>
    <script>
      window.addEventListener("load", (event) => {
        cellularAutomatonUI("cellular-automaton-03", 10, 5, 2, 2, ["reset", "stop", "step", "speed1", "speed2"], (circuit) => {
          circuit.sub({x:1, y:1}).line([4, 2]);
          circuit.sub({x:1, y:3}).line([8]);
          circuit.sub({x:1, y:1}).button();
          circuit.sub({x:1, y:3}).button();
          circuit.sub({x:6, y:3}).reverse();
          for (let i = 6; i < 10; i++) {
            circuit.sub({x:i, y:3}).value(true);
          }
        });
      });
    </script>
  </section>
  <section>
    <p>入力側にもNOTをつけた例です。入力が1つでもOffであれば出力はOffになり、入力がすべてOnのときに限り出力はOnになります。</p>
    <p>つまりこれはAND回路になります。</p>
    <p>OR回路の入力側と出力側のすべてにNOTを接続するとAND回路になるのは、</p>
    <table>
      <tr><th>入力1</th><th>入力2</th><th>出力</th></tr>
      <tr><td>0</td><td>0</td><td>0</td></tr>
      <tr><td>0</td><td>1</td><td>0</td></tr>
      <tr><td>1</td><td>0</td><td>0</td></tr>
      <tr><td>1</td><td>1</td><td>1</td></tr>
    </table>
    <div id="cellular-automaton-04"></div>
    <script>
      window.addEventListener("load", (event) => {
        cellularAutomatonUI("cellular-automaton-04", 10, 5, 2, 2, ["reset", "stop", "step", "speed1", "speed2"], (circuit) => {
          circuit.sub({x:1, y:1}).line([4, 2]);
          circuit.sub({x:1, y:3}).line([8]);
          circuit.sub({x:1, y:1}).button();
          circuit.sub({x:1, y:3}).button();
          circuit.sub({x:4, y:1}).reverse(true);
          circuit.sub({x:4, y:3}).reverse(true);
          circuit.sub({x:6, y:3}).reverse();
        });
      });
    </script>
  </section>
  <section>
    <p>AND回路は赤いセルを寄せることでコンパクトにできます。</p>
    <div id="cellular-automaton-05"></div>
    <script>
      window.addEventListener("load", (event) => {
        cellularAutomatonUI("cellular-automaton-05", 10, 5, 2, 2, ["reset", "stop", "step", "speed1", "speed2"], (circuit) => {
          circuit.sub({x:1, y:1}).line([4, 2]);
          circuit.sub({x:1, y:3}).line([8]);
          circuit.sub({x:1, y:1}).button();
          circuit.sub({x:1, y:3}).button();
          circuit.sub({x:5, y:2}).reverse(true);
          circuit.sub({x:4, y:3}).reverse(true);
          circuit.sub({x:5, y:3}).reverse();
        });
      });
    </script>
  </section>
</body>
</html>
